---
import { type CollectionEntry, getCollection } from 'astro:content';
import API from '../../layouts/API.astro';

export async function getStaticPaths() {
    const apis = await getCollection('api');
    return apis.map((post) => ({
        params: { slug: post.slug },
        props: post,
    }));
}
type Props = CollectionEntry<'api'>;

const api = Astro.props;
const { Content } = await api.render();
---

<API {...api.data}>
    <Content />
</API>
